{"version":3,"sources":["index.js"],"names":["AWS","require","photo","Config","accessKeyId","process","aws_access_key_id","config","update","region","Rekognition","client","Image","params","S3Object","bucket","Bucket","detectText","err","response","console","log","stack","TextDetections","label","concat","fraseCompleta","DetectedText","Type","push","statusCode","event","regeneratorRuntime","async","_context","prev","next","abrupt","body","message","input","stop"],"mappings":"aAAA,IAAIA,IAAMC,QAAQ,WAAdD,OAAMC,wDAGJC,MAAQ,YAARA,OAAQ,IAAAF,IAAdG,OAAA,CAEAC,YAAeC,QAAQF,IAARG,kBACbF,gBAAaC,QAAYC,IAAAA,wBAI3BN,IAAIO,OAAOC,OAAO,CAAAC,OAAA,cAACA,IAAAA,OAAQ,IAAAT,IAAAU,YACrBC,OAAS,CAEfC,MAAMC,CACJD,SAAO,CACLE,OAASC,OACPC,KAAMd,SAMZS,OAAOM,WAAWJ,OAAQ,SAAAK,EAAAC,GACxB,GAAAD,EACEE,QAAQC,IAAIH,EAAKA,EAAII,WAIrB,CAEAH,IAAAA,EAASI,GAEPH,QAAGI,IAAH,qBAAAC,OACAvB,QACEwB,EAAAA,eAAmBF,QAAMG,SAAAA,GAE3B,QAAAH,EAAAI,MAFEF,EAAcG,KAAKL,EAAMG,gBAiBRP,QAAAC,IAAAK,MAErBI,OAAAA,QAAAA,QAAY,SADPC,GACO,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,OAAAF,EAAAG,OAAA,SACZC,CAEIC,WAAAA,IACAC,KAAAA,KAAAA,UAFF,CAHGD,QADgB,2DAMjBC,MAAOT,GANU,KAAA,KAET,KAAA,EAAA,IAAA,MAAA,OAAAG,EAAAO","file":"index.min.js","sourcesContent":["var AWS = require('aws-sdk');\n\nconst bucket = 'textimage-dev-serverlessdeploymentbucket-ctdtggba9qmz'\nconst photo = 'frase.jpg'\n\nconst config = new AWS.Config({\n  accessKeyId: process.env.aws_access_key_id,\n  secretAccessKey: process.env.aws_secret_access_key\n})\n\nAWS.config.update({region: 'us-east-1'});\nconst client = new AWS.Rekognition();\n\nconst params = {\n  Image: {\n    S3Object:{\n      Bucket: bucket,\n      Name: photo\n    },\n  },\n}\n\nclient.detectText(params, function(err, response){\n  if(err){\n    console.log(err, err.stack);\n  }\n  else {\n     \n    var fraseCompleta = []; \n    console.log(`Detected Text for ${photo}`);\n    response.TextDetections.forEach(label => {\n\n      if(label.Type == 'LINE')\n      {\n        fraseCompleta.push(label.DetectedText);\n      }\n      /*console.log(`Detected Text: ${label.DetectedText}`);\n      console.log(`Type: ${label.Type}`);\n      console.log(`ID: ${label.Id}`);\n      console.log(`Parent ID: ${label.ParentId}`);\n      console.log(`Confidence: ${label.Confidence}`);\n      console.log(`Plygon: `);\n      console.log(label.Geometry.Polygon);*/\n\n      \n    })\n\n    console.log(fraseCompleta);\n  }\n});\n\nmodule.exports.handler = async (event) => {\n  return {\n    statusCode: 200,\n    body: JSON.stringify(\n      {\n        message: \"Go Serverless v3.0! Your function executed successfully!\",\n        input: event,\n      },\n      null,\n      2\n    ),\n  };\n};\n"]}